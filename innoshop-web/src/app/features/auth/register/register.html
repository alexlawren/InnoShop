<div class="login-wrapper"> 
  
  <div class="login-card mat-elevation-z4">
    
    <div class="login-header">
      <mat-icon class="logo-icon">person_add</mat-icon>
      <h1>Регистрация</h1>
      <p>Создать новый аккаунт</p>
    </div>

    <form #regForm="ngForm" (ngSubmit)="onRegister(regForm)">
      
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Имя</mat-label>
        <input matInput [(ngModel)]="name" name="name" required maxlength="50" #nameInput="ngModel">
        <mat-icon matSuffix>badge</mat-icon>
        <mat-error *ngIf="nameInput.invalid">Имя обязательно (до 50 символов)</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput [(ngModel)]="email" name="email" required email #emailInput="ngModel">
        <mat-icon matSuffix>email</mat-icon>
        <mat-error *ngIf="emailInput.invalid">Введите корректный Email</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Пароль</mat-label>
        <input matInput [type]="hidePassword ? 'password' : 'text'" [(ngModel)]="password" name="password" required minlength="8" #passInput="ngModel">
        <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="passInput.invalid">Минимум 8 символов</mat-error>
      </mat-form-field>

      <button mat-flat-button class="login-btn" type="submit" [disabled]="isLoading || regForm.invalid">
        <div class="btn-content">
          <span *ngIf="!isLoading">ЗАРЕГИСТРИРОВАТЬСЯ</span>
          <mat-spinner *ngIf="isLoading" diameter="24" color="accent"></mat-spinner>
        </div>
      </button>

    </form>
    
    <div class="footer-links">
      <span>Уже есть аккаунт? </span>
      <a routerLink="/login" class="link-btn bold">Войти</a>
    </div>

  </div>
</div>